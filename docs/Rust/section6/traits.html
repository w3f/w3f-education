<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/w3f-education/blog/rss.xml" title="Polkadot Education Initiative Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/w3f-education/blog/atom.xml" title="Polkadot Education Initiative Blog Atom Feed"><title data-react-helmet="true">Defining behavior with Traits | Polkadot Education Initiative</title><meta data-react-helmet="true" property="og:url" content="https://w3f.github.io/w3f-education/docs/Rust/section6/traits"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Defining behavior with Traits | Polkadot Education Initiative"><meta data-react-helmet="true" name="description" content="Learn how to bring data structs to life with traits in Rust."><meta data-react-helmet="true" property="og:description" content="Learn how to bring data structs to life with traits in Rust."><link data-react-helmet="true" rel="shortcut icon" href="/w3f-education/img/Web3Foundation.png"><link data-react-helmet="true" rel="canonical" href="https://w3f.github.io/w3f-education/docs/Rust/section6/traits"><link data-react-helmet="true" rel="alternate" href="https://w3f.github.io/w3f-education/docs/Rust/section6/traits" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://w3f.github.io/w3f-education/docs/Rust/section6/traits" hreflang="x-default"><link rel="stylesheet" href="/w3f-education/assets/css/styles.186e147f.css">
<link rel="preload" href="/w3f-education/assets/js/runtime~main.40365794.js" as="script">
<link rel="preload" href="/w3f-education/assets/js/main.98308674.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/w3f-education/"><img src="/w3f-education/img/Web3Foundation.png" alt="Polkadot Education Initiative" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/w3f-education/img/Web3Foundation.png" alt="Polkadot Education Initiative" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Technical Education</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Courses</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/w3f-education/docs/introblock">Blockchain</a></li><li><a class="dropdown__link" href="/w3f-education/docs/introdot">Polkadot</a></li><li><a class="dropdown__link" href="/w3f-education/docs/introrust">Rust Programming</a></li><li><a class="dropdown__link" href="/w3f-education/docs/introsubstrate">Substrate</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/w3f-education/docs/introatoz">A - Z ELI5 series </a></li><li><a href="https://wiki.polkadot.network/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polkadot Wiki</a></li><li><a class="dropdown__link" href="/w3f-education/docs/polkadotFAQ">Polkadot FAQ </a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/w3f-education/blog">Blog</a><a href="https://github.com/w3f/w3f-education" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/w3f-education/docs/Rust/rust-appendix">Course Appendix</a></li><li class="menu__list-item"><a class="menu__link" href="/w3f-education/docs/introrust">Course Syllabus</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Why Rust?</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Installation &amp; Development Environment Setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rust 101 - Intro to Basic Rust</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Intro to Intermediate Rust: Ownership, Borrowing, &amp; Slices</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Intro to Intermediate Rust: Enums &amp; Matching Patterns</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Intro to Intermediate Rust: Data Structs &amp; Collections</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Intro to Advanced Rust: Traits, Generics, &amp; Lifetimes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/w3f-education/docs/Rust/section6/section-6-intro">Intro to Advanced Rust - Traits, Generics, &amp; Lifetimes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/w3f-education/docs/Rust/section6/traits">Traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/w3f-education/docs/Rust/section6/generics">Generic Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/w3f-education/docs/Rust/section6/associated-generics">Associated Types vs Generic Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/w3f-education/docs/Rust/section6/lifetimes">Lifetimes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Intro to Advanced Rust: Iterators &amp; Closures</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Learning Cargo, Rust’s Package Management	 System, Basic Testing</a></li><li class="menu__list-item"><a href="https://www.rust-lang.org/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Learn more<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Defining behavior with Traits</h1></header><p>There is no genuine concept of object-oriented-style inheritance in Rust. <strong>Traits</strong> introduce the notion of defining shared behavior for data structures.  A trait defines a set of shared functions, expectations, and behavior that can be used for an indefinite number of types.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-a-trait"></a>Creating a Trait<a class="hash-link" href="#creating-a-trait" title="Direct link to heading">#</a></h2><p>Defining a trait utilizes the <code>trait</code> keyword, followed by the name of the trait.  In this example, notice the use of the <code>pub</code> (public) keyword.  This exposes the trait to any external files within a Rust crate and project to utilize:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait DigitalBank {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn transfer(&amp;mut self, who: &amp;mut Account, amount: i32) -&gt; i32;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This function defines a trait <code>DigitalBank</code>, which also defines a <strong>method signature</strong>, called <code>transfer</code>.  This signature is a blueprint for what we expect from any type that <em>implements</em> <code>DigitalBank</code> as a trait.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="common-traits-in-rust"></a>Common Traits in Rust<a class="hash-link" href="#common-traits-in-rust" title="Direct link to heading">#</a></h2><p>As you may have already seen, there are quite a few traits that are used in Rust.  A few common traits are:</p><ul><li><a href="https://doc.rust-lang.org/std/fmt/trait.Debug.html" target="_blank" rel="noopener noreferrer">Debug</a> - formats the output in a debugging context.</li><li><a href="https://doc.rust-lang.org/std/cmp/trait.PartialEq.html" target="_blank" rel="noopener noreferrer">PartialEq</a> - A trait for equality comparisons.</li><li><a href="https://doc.rust-lang.org/std/clone/trait.Clone.html" target="_blank" rel="noopener noreferrer">Clone</a> - Describes how a new value can be created, or &quot;Cloned&quot;.</li></ul><p>There are many more, but these, when used in conjunction with the <code>derive</code> macro with structs, can be very useful in making structs more pleasant to handle.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-the-derive-macro"></a>Using the derive macro<a class="hash-link" href="#using-the-derive-macro" title="Direct link to heading">#</a></h3><p>A line you may have encountered above a <code>struct</code> declaration is <code>#[derive()]</code>.  This is what is called a <strong>procedural macros</strong>, which create a sort of auto-implementation for a set of compatible traits.  Between the parentheses, any traits compatible with this macro, along with the struct&#x27;s fields within can be implemented:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone)]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">struct Stormtrooper {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: String</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Because <code>String</code> also implements <code>Clone</code>, this is perfectly acceptable and easier than fully writing out the implementation for this particular trait.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="implementing-a-trait-on-an-account-struct"></a>Implementing a Trait on an &quot;Account&quot; struct<a class="hash-link" href="#implementing-a-trait-on-an-account-struct" title="Direct link to heading">#</a></h2><p>To implement (<code>impl</code>) this trait, we will create a struct called <code>Account</code>, which will also be marked as <code>pub</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pub struct Account {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   pub id: i32,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   pub balance: i32,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   pub is_legit: bool,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">impl DigitalBank for Account {}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If the above code was run, we&#x27;d be presented with this error:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">error[E0046]: not all trait items implemented, missing: `transfer`</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  --&gt; src/main.rs:11:1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   |</span></span><span class="token-line" style="color:#393A34"><span class="token plain">8  |     fn transfer(&amp;mut self, who: &amp;mut Account, amount: i32) -&gt; i32;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   |     ------------------------------------------- `transfer` from trait</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">11 | impl DigitalBank for Account {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `transfer` in implementation</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">For more information about this error, try `rustc --explain E0046`.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As the compiler clearly says - we must implement all method signatures for this implementation!</p><p>Now, we may implement our <code>DigitalBank</code> trait to properly reflect the method signatures:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">impl DigitalBank for Account {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn transfer(&amp;mut self, who: &amp;mut Account, amount: i32) -&gt; i32 {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Take from our (self) balance,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.balance = self.balance - amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add that amount to someone else&#x27;s balance,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        who.balance = who.balance + amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // return our remaining balance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.balance</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Because we implemented <code>DigitalBank</code> with this type, now any instance of the account struct can utilize the <code>transfer()</code> method and ensure <strong>shared</strong> behavior:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">    let mut account_one = Account {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        id: 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        balance: 100,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        is_legit: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    let mut account_two = Account {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        id: 2,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        balance: 200,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        is_legit: true,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // In theory, account two could also easily call this!</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    account_one.transfer(&amp;mut account_two, 50);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    println!(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Account One Balance: {}, Account Two Balance: {}&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        account_one.balance, account_two.balance</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In fact, <em>any</em> type that <code>impl</code>s <code>DigitalBank</code> can now transfer funds, so long as it&#x27;s implemented correctly as per the method and trait signatures.</p><p>To illustrate this let us add a method signature to <code>DigitalBank</code> to drain all funds from an <code>Account</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait DigitalBank {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn transfer(&amp;mut self, who: &amp;mut Account, amount: i32) -&gt; i32;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// New method signature!  Now we *have* to implement it.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn drain_funds(&amp;mut self) -&gt; bool;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">impl DigitalBank for Account {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn transfer(&amp;mut self, who: &amp;mut Account, amount: i32) -&gt; i32 {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Take from our (self) balance,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.balance = self.balance - amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add that amount to someone else&#x27;s balance,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        who.balance = who.balance + amount;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // return our remaining balance.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.balance</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     fn drain_funds(&amp;mut self) -&gt; bool {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Drain it all!</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.balance = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Really, we should have a Result that ensures that the account was successfully drained.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And as before, it&#x27;s as simple as calling the <code>drain_funds</code> on any type, in this case, <code>Account</code>, that implements the <code>DigitalBank</code>trait:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// Account two&#x27;s balance is now 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">account_two.drain_funds();</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Feel free to define more types and implement, or even expand <code>DigitalBank</code> with more methods as you see fit.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trait-parameters--bounds"></a>Trait Parameters &amp; Bounds<a class="hash-link" href="#trait-parameters--bounds" title="Direct link to heading">#</a></h2><p>A common use of traits is their use as <strong>bounds</strong> in functions, which can then be used to define <strong>parameters</strong> that abide by these bounds.  With generics, this becomes possible and produces very reusable code:</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>For this scenario, we added an additional method to the <code>DigitalBank</code> trait - <code>is_legit()</code>, which verifies the legitimacy of a particular entity.  This entity could be an <code>Account</code>, or even something like a <code>SmartContract</code> type.</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fn verify_entity(entity: &amp;impl DigitalBank) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if entity.is_legit() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        println!(&quot;Entity is legit!&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">         println!(&quot;Entity is NOT legit!&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The function&#x27;s parameter, <code>entity</code>, is saying something very particular here: <strong>any</strong> type which implements <code>DigitalBank</code> as a trait is a valid parameter.  If we were to define another type, say <code>SmartContract</code>, that implemented <code>DigitalBank</code>, then that would also be completely valid.</p><p>It can also be written using <em>trait bound syntax</em>, which allows for a better view of generics at work:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fn verify_entity&lt;T: DigitalBank&gt;(entity: &amp;T) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if entity.is_legit() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        println!(&quot;Entity is legit!&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">         println!(&quot;Entity is NOT legit!&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To call a function like this would be quite interesting, as we would need to specify which type, so long as it abides by the trait bound <code>DigitalBank</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">let mut account = Account {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    id: 1,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    balance: 100,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Account goes in the angled brackets, as it&#x27;s a type &#x27;T&#x27; that implements &#x27;DigitalBank&#x27;:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">verify_entity::&lt;Account&gt;(&amp;account);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="try-it-yourself"></a>Try it yourself!<a class="hash-link" href="#try-it-yourself" title="Direct link to heading">#</a></h2><iframe width="100%" height="580" src="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;code=pub+struct+Account+%7B%0A++++pub+id%3A+i32%2C%0A++++pub+balance%3A+i32%2C%0A%7D%0A%0Apub+trait+DigitalBank+%7B%0A++++%2F%2F%2F+Return+the+new+balance.%0A++++fn+transfer%28%26mut+self%2C+who%3A+%26mut+Account%2C+amount%3A+i32%29+-%3E+i32%3B%0A++++fn+is_legit%28%26self%29+-%3E+bool%3B%0A++++fn+drain_funds%28%26mut+self%29+-%3E+bool%3B%0A%0A%7D%0A%0Aimpl+DigitalBank+for+Account+%7B%0A++++fn+transfer%28%26mut+self%2C+who%3A+%26mut+Account%2C+amount%3A+i32%29+-%3E+i32+%7B%0A++++++++%2F%2F+Take+from+our+%28self%29+balance%2C%0A++++++++self.balance+%3D+self.balance+-+amount%3B%0A++++++++%2F%2F+Add+that+amount+to+someone+else%27s+balance%2C%0A++++++++who.balance+%3D+who.balance+%2B+amount%3B%0A++++++++%2F%2F+return+our+remaining+balance.%0A++++++++self.balance%0A++++%7D%0A%0A+++++fn+drain_funds%28%26mut+self%29+-%3E+bool+%7B%0A++++++++%2F%2F+Drain+it+all%21%0A++++++++self.balance+%3D+0%3B%0A++++++++%2F%2F+Really%2C+we+should+have+a+Result+that+ensures+that+the+account+was+successfully+drained.%0A++++++++true%0A+++++%7D%0A+++++%0A+++++fn+is_legit%28%26self%29+-%3E+bool+%7B%0A++++++++self.balance+%21%3D+0%0A+++++%7D%0A%7D%0A%0Afn+verify_entity%3CT%3A+DigitalBank%3E%28entity%3A+%26T%29+%7B%0A++++if+entity.is_legit%28%29+%7B%0A++++++++println%21%28%22Entity+is+legit%21%22%29%3B%0A++++%7D+else+%7B%0A+++++++++println%21%28%22Entity+is+NOT+legit%21%22%29%3B%0A++++%7D%0A%7D%0A%0Afn+main%28%29+%7B%0A++++let+mut+account_one+%3D+Account+%7B%0A++++++++id%3A+1%2C%0A++++++++balance%3A+100%2C%0A++++%7D%3B%0A++++let+mut+account_two+%3D+Account+%7B%0A++++++++id%3A+2%2C%0A++++++++balance%3A+200%2C%0A++++%7D%3B%0A%0A++++account_one.transfer%28%26mut+account_two%2C+50%29%3B%0A%0A++++println%21%28%0A++++++++%22Account+One+Balance%3A+%7B%7D%2C+Account+Two+Balance%3A+%7B%7D%22%2C%0A++++++++account_one.balance%2C+account_two.balance%0A++++%29%3B%0A++++%0A++++account_two.drain_funds%28%29%3B%0A++++%2F%2F+ALl+funds+are+gone%21%0A++++println%21%28%0A++++++++%22Account+One+Balance%3A+%7B%7D%2C+Account+Two+Balance%3A+%7B%7D%22%2C%0A++++++++account_one.balance%2C+account_two.balance%0A++++%29%3B%0A++++%0A++++let+mut+account+%3D+Account+%7B%0A++++id%3A+1%2C%0A++++balance%3A+100%2C%0A++++%7D%3B%0A++++%2F%2F+Account+goes+in+the+angled+brackets%2C+as+it%27s+a+type+%27T%27+that+implements+%27DigitalBank%27%3A%0A++++verify_entity%3A%3A%3CAccount%3E%28%26account%29%3B%0A++++verify_entity%3A%3A%3CAccount%3E%28%26account_two%29%3B%0A%7D%0A"></iframe><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="whats-happening-here"></a>What&#x27;s happening here?<a class="hash-link" href="#whats-happening-here" title="Direct link to heading">#</a></h2><p>In this example, we define a common trait <code>DigitalBank</code>, which allows a struct to define and access three methods: <code>transfer</code>, <code>is_legit</code>, and <code>drain_funds</code>.  When a struct implements this trait, it must specify the functionality for each method.  A function, <code>verify_entity</code>, also introduces a <strong>trait bound</strong> <code>T: DigitalBank</code>.  This bound ensures that only types that have correctly implemented <code>DigitalBank</code> are to be valid arguments.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/w3f/w3f-education/edit/main/docs/Rust/section6/traits.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2023-04-11T15:27:46.000Z">4/11/2023</time></b> by <b>bader y</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/w3f-education/docs/Rust/section6/section-6-intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Intro to Advanced Rust - Traits, Generics, &amp; Lifetimes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/w3f-education/docs/Rust/section6/generics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Generic Types »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-trait" class="table-of-contents__link">Creating a Trait</a></li><li><a href="#common-traits-in-rust" class="table-of-contents__link">Common Traits in Rust</a><ul><li><a href="#using-the-derive-macro" class="table-of-contents__link">Using the derive macro</a></li></ul></li><li><a href="#implementing-a-trait-on-an-account-struct" class="table-of-contents__link">Implementing a Trait on an &quot;Account&quot; struct</a></li><li><a href="#trait-parameters--bounds" class="table-of-contents__link">Trait Parameters &amp; Bounds</a></li><li><a href="#try-it-yourself" class="table-of-contents__link">Try it yourself!</a></li><li><a href="#whats-happening-here" class="table-of-contents__link">What&#39;s happening here?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Courses</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/w3f-education/docs/introblock">Blockchain Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/w3f-education/docs/introdot">Introduction to Polkadot</a></li><li class="footer__item"><a class="footer__link-item" href="/w3f-education/docs/introrust">Introduction to Rust Programming</a></li><li class="footer__item"><a class="footer__link-item" href="/w3f-education/docs/introsubstrate">Introduction to Substrate</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://wiki.polkadot.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/w3f-education/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/w3f/w3f-education" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Web3 Foundation. Built with Docusaurus.</div></div></div></footer></div>
<script src="/w3f-education/assets/js/runtime~main.40365794.js"></script>
<script src="/w3f-education/assets/js/main.98308674.js"></script>
</body>
</html>